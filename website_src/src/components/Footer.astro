---
import { Icon } from 'astro-icon/components';

const currentYear = new Date().getFullYear();

const footerLinks = {
  Product: [
    { label: 'Features', href: '/mailcatcher/#features' },
    { label: 'Advanced Configuration', href: '/mailcatcher/advanced/' },
    { label: 'API Reference', href: '/mailcatcher/api/' },
    { label: 'Changelog', href: 'https://github.com/spaquet/mailcatcher/releases' },
  ],
  Resources: [
    { label: 'GitHub', href: 'https://github.com/spaquet/mailcatcher' },
    { label: 'Docker Hub', href: 'https://hub.docker.com/r/stpaquet/alpinemailcatcher' },
    { label: 'Issues', href: 'https://github.com/spaquet/mailcatcher/issues' },
    { label: 'Discussions', href: 'https://github.com/spaquet/mailcatcher/discussions' },
  ],
  Integration: [
    { label: 'AI Integration', href: '/mailcatcher/ai-integration/' },
    { label: 'MCP Setup', href: '/mailcatcher/ai-integration/#mcp' },
    { label: 'Claude Plugin', href: '/mailcatcher/ai-integration/#claude-plugin' },
  ],
};
---

<footer class="bg-anthracite text-gray-300 border-t border-gray-800">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    {/* Main Footer Content */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
      {/* Brand Section */}
      <div class="col-span-1 lg:col-span-1">
        <div class="flex items-center gap-2 mb-4">
          <div class="w-8 h-8 rounded-lg bg-forest-600 flex items-center justify-center">
            <Icon name="mdi:mail" class="w-5 h-5 text-white" />
          </div>
          <span class="font-display font-bold text-lg text-white">
            MailCatcher<span class="text-forest-600">NG</span>
          </span>
        </div>
        <p class="text-sm text-gray-400">
          Catch mail in development. Simple, powerful, and easy to install with Docker.
        </p>
      </div>

      {/* Links Columns */}
      {Object.entries(footerLinks).map(([category, links]) => (
        <div>
          <h4 class="font-display font-semibold text-white mb-4 text-sm">{category}</h4>
          <ul class="space-y-2">
            {links.map(link => (
              <li>
                <a
                  href={link.href}
                  target={link.href.startsWith('http') ? '_blank' : undefined}
                  rel={link.href.startsWith('http') ? 'noopener noreferrer' : undefined}
                  class="text-gray-400 hover:text-forest-400 transition-colors duration-200 text-sm"
                >
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    {/* Divider */}
    <div class="border-t border-gray-800 py-8">
      {/* Social Links */}
      <div class="flex items-center justify-between flex-col sm:flex-row gap-4">
        <p class="text-sm text-gray-400">
          &copy; {currentYear} MailCatcher NG. Open source project.
        </p>
        <div class="flex items-center gap-4">
          <a
            href="https://github.com/spaquet/mailcatcher"
            target="_blank"
            rel="noopener noreferrer"
            class="text-gray-400 hover:text-forest-400 transition-colors duration-200"
            aria-label="GitHub"
          >
            <Icon name="mdi:github" class="w-5 h-5" />
          </a>
          <a
            href="https://hub.docker.com/r/stpaquet/alpinemailcatcher"
            target="_blank"
            rel="noopener noreferrer"
            class="text-gray-400 hover:text-forest-400 transition-colors duration-200"
            aria-label="Docker Hub"
          >
            <Icon name="mdi:docker" class="w-5 h-5" />
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>
