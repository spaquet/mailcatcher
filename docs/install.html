<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">        <link rel="canonical" href="https://spaquet.github.io/mailcatcher/install.html">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <meta name="description" content="MailCatcher NG installation guide. Easy setup instructions for macOS, Linux, Docker, and various frameworks.">
    <meta name="keywords" content="mailcatcher-ng installation, setup guide, docker, rails, django, php">
    <meta name="og:title" content="Installation - MailCatcher NG">
    <meta name="og:description" content="Get MailCatcher NG running in minutes with our comprehensive installation guide.">
    <title>Installation Guide - MailCatcher NG</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5YSM2R9KRH"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5YSM2R9KRH');
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">ðŸ“§</span>
                MailCatcher NG
            </a>
            <ul class="nav-menu">
                <li><a href="index.html#features" class="nav-link">Features</a></li>
                <li><a href="install.html" class="nav-link active">Install</a></li>
                <li><a href="https://github.com/spaquet/mailcatcher" class="nav-link" target="_blank">GitHub</a></li>
                <li><a href="https://github.com/sj26/mailcatcher" class="nav-link original" target="_blank">Original</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Installation & Setup</h1>
            <p>Get MailCatcher up and running in minutes</p>
        </div>
    </section>

    <!-- Installation Content -->
    <section class="install-content">
        <div class="container">
            <div class="install-sections">
                <!-- Basic Installation -->
                <div class="install-section">
                    <h2>Basic Installation</h2>
                    <p>MailCatcher NG requires Ruby 3.2 or higher. Ensure you have Ruby installed:</p>
                    <pre><code>ruby -v</code></pre>
                    <p>Then install via RubyGems:</p>
                    <pre><code>gem install mailcatcher-ng</code></pre>
                    <p>Start the server:</p>
                    <pre><code>mailcatcher
# View mail at http://127.0.0.1:1080
# Send mail to smtp://127.0.0.1:1025</code></pre>
                </div>

                <!-- Development Mode -->
                <div class="install-section">
                    <h2>Development Mode</h2>
                    <p>Run in foreground with custom ports:</p>
                    <pre><code>MAILCATCHER_ENV=development bundle exec mailcatcher \
  --foreground \
  --smtp-port 1025 \
  --http-port 1080</code></pre>
                </div>

                <!-- Framework Integration -->
                <div class="install-section">
                    <h2>Framework Integration</h2>

                    <h3>Rails</h3>
                    <p>Add to <code>config/environments/development.rb</code>:</p>
                    <pre><code>config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = {
  address: '127.0.0.1',
  port: 1025
}
config.action_mailer.raise_delivery_errors = false</code></pre>

                    <h3>Django</h3>
                    <p>Add to <code>settings.py</code>:</p>
                    <pre><code>if DEBUG:
    EMAIL_HOST = '127.0.0.1'
    EMAIL_HOST_USER = ''
    EMAIL_HOST_PASSWORD = ''
    EMAIL_PORT = 1025
    EMAIL_USE_TLS = False</code></pre>

                    <h3>PHP / Laravel</h3>
                    <p>Update <code>.env</code>:</p>
                    <pre><code>MAIL_MAILER=smtp
MAIL_HOST=127.0.0.1
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null</code></pre>

                    <h3>PHP Mail Function</h3>
                    <p>Update <code>php.ini</code> sendmail path:</p>
                    <pre><code>sendmail_path = /usr/bin/env catchmail -f from@example.com</code></pre>
                </div>

                <!-- Docker -->
                <div class="install-section">
                    <h2>Docker</h2>
                    <p>Run MailCatcher with the official Alpine Linux image:</p>
                    <pre><code>docker run -d -p 1080:1080 -p 1025:1025 stpaquet/alpinemailcatcher</code></pre>
                    <p>Then access the web interface at <code>http://127.0.0.1:1080</code> and send mail to <code>smtp://127.0.0.1:1025</code></p>
                    <p>View the image on <a href="https://hub.docker.com/r/stpaquet/alpinemailcatcher" target="_blank">Docker Hub</a></p>
                </div>

                <!-- Command Line Options -->
                <div class="install-section">
                    <h2>Command Line Options</h2>
                    <pre><code>mailcatcher ng --help

Options:
  --ip IP                    Set IP address for both servers
  --smtp-ip IP              Set SMTP server IP
  --smtp-port PORT          Set SMTP port (default: 1025)
  --smtp-ssl                Enable SSL/TLS support for SMTP
  --smtp-ssl-cert PATH      Path to SSL certificate file
  --smtp-ssl-key PATH       Path to SSL private key file
  --smtp-ssl-verify-peer    Verify client SSL certificates
  --smtps-port PORT         Direct TLS port (default: 1465)
  --http-ip IP              Set HTTP server IP
  --http-port PORT          Set HTTP port (default: 1080)
  --messages-limit COUNT    Keep only N most recent messages
  --persistence             Store messages in a persistent SQLite database file
  --http-path PATH          Add prefix to all HTTP paths
  --no-quit                 Disable quit functionality
  -f, --foreground          Run in foreground
  -b, --browse              Open web browser on start
  -v, --verbose             Be more verbose
  -h, --help                Show this help
  --version                 Show version</code></pre>
                </div>

                <!-- Persistent Storage -->
                <div class="install-section">
                    <h2>Persistent Storage</h2>
                    <p>By default, MailCatcher NG stores messages in memory and they are lost when the process terminates. Enable persistent storage to keep messages across restarts:</p>
                    <pre><code>mailcatcher --persistence</code></pre>
                    <p>Messages will be stored in a SQLite database file at <code>~/.mailcatcher/mailcatcher.db</code></p>

                    <h3>Docker with Persistent Storage</h3>
                    <p>When using Docker, you need to mount a volume to persist the database file. Note: The current Docker image does not yet include support for the <code>--persistence</code> flag. This feature will be added in a future release.</p>
                    <pre><code>docker run -d \
  -p 1080:1080 \
  -p 1025:1025 \
  -v mailcatcher_data:/root/.mailcatcher \
  stpaquet/alpinemailcatcher</code></pre>
                    <p>Or with a bind mount to a host directory:</p>
                    <pre><code>docker run -d \
  -p 1080:1080 \
  -p 1025:1025 \
  -v /path/to/local/storage:/root/.mailcatcher \
  stpaquet/alpinemailcatcher</code></pre>
                </div>

                <!-- SSL/TLS Configuration -->
                <div class="install-section">
                    <h2>SSL/TLS Configuration</h2>
                    <p>MailCatcher supports encrypted SMTP connections using SSL/TLS. You must provide your own certificate and private key files.</p>

                    <h3>Generate Self-Signed Certificate (Testing)</h3>
                    <pre><code>openssl req -x509 -newkey rsa:4096 \
  -keyout mailcatcher-key.pem \
  -out mailcatcher-cert.pem \
  -days 365 -nodes \
  -subj "/CN=localhost"</code></pre>

                    <h3>Start with SSL/TLS</h3>
                    <pre><code>mailcatcher \
  --smtp-ssl \
  --smtp-ssl-cert mailcatcher-cert.pem \
  --smtp-ssl-key mailcatcher-key.pem</code></pre>

                    <p>This enables:</p>
                    <ul>
                        <li><strong>STARTTLS on port 1025</strong>: Upgrade to TLS (required before sending mail)</li>
                        <li><strong>Direct TLS on port 1465</strong>: Encrypted from connection start (SMTPS)</li>
                    </ul>

                    <h3>Framework Configuration with TLS</h3>

                    <h4>Rails with STARTTLS</h4>
                    <pre><code>config.action_mailer.smtp_settings = {
  address: '127.0.0.1',
  port: 1025,
  enable_starttls_auto: true
}</code></pre>

                    <h4>Rails with direct TLS (SMTPS)</h4>
                    <pre><code>config.action_mailer.smtp_settings = {
  address: '127.0.0.1',
  port: 1465,
  enable_starttls_auto: false,
  ssl: true
}</code></pre>

                    <h4>Django with TLS</h4>
                    <pre><code>if DEBUG:
    EMAIL_HOST = '127.0.0.1'
    EMAIL_PORT = 1465  # Direct TLS
    EMAIL_USE_TLS = True
    EMAIL_USE_SSL = True</code></pre>

                    <h4>PHP with TLS</h4>
                    <pre><code>MAIL_PORT=1465
MAIL_ENCRYPTION=ssl  # or 'tls' for STARTTLS on port 1025</code></pre>

                    <h3>Production Certificates</h3>
                    <p>For production-like testing, use certificates from your CA or Let's Encrypt:</p>
                    <pre><code>mailcatcher \
  --smtp-ssl \
  --smtp-ssl-cert /etc/ssl/certs/your-cert.pem \
  --smtp-ssl-key /etc/ssl/private/your-key.pem \
  --smtp-ssl-verify-peer</code></pre>

                    <h3>Security Notes</h3>
                    <ul>
                        <li>Certificate and key files must be readable by the user running MailCatcher</li>
                        <li>STARTTLS is REQUIRED when SSL is enabled (no plain SMTP allowed)</li>
                        <li>Self-signed certificates will trigger warnings in most mail clients</li>
                        <li>Client certificate verification is disabled by default</li>
                    </ul>
                </div>

                <!-- Troubleshooting -->
                <div class="install-section">
                    <h2>Troubleshooting</h2>

                    <h3>Port Already in Use</h3>
                    <p>Use different ports:</p>
                    <pre><code>mailcatcher --smtp-port 2025 --http-port 2080</code></pre>

                    <h3>Ruby Not Found</h3>
                    <p>Ensure Ruby 3.2+ is installed:</p>
                    <pre><code>brew install ruby  # macOS
apt install ruby   # Ubuntu/Debian</code></pre>

                    <h3>Build Tools Missing</h3>
                    <p>Install build tools for gem compilation:</p>
                    <pre><code>apt install build-essential  # Ubuntu/Debian
xcode-select --install      # macOS</code></pre>

                    <h3>RVM Users</h3>
                    <p>MailCatcher may only be available in the Ruby version it was installed in:</p>
                    <pre><code>rvm default@mailcatcher --create do gem install mailcatcher
ln -s "$(rvm default@mailcatcher do rvm wrapper show mailcatcher)" "$rvm_bin_path/"</code></pre>
                </div>


                <!-- From Source -->
                <div class="install-section">
                    <h2>Build from Source</h2>
                    <pre><code>git clone https://github.com/spaquet/mailcatcher.git
cd mailcatcher
bundle install
bundle exec rake package
gem install mailcatcher-ng-VERSION.gem</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>MailCatcher NG</h4>
                    <p>Email testing made beautiful for developers.</p>
                </div>
                <div class="footer-section">
                    <h4>Links</h4>
                    <ul>
                        <li><a href="https://github.com/spaquet/mailcatcher">GitHub</a></li>
                        <li><a href="https://github.com/sj26/mailcatcher">Original</a></li>
                        <li><a href="https://rubygems.org/gems/mailcatcher-ng">RubyGems (NG)</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="https://github.com/spaquet/mailcatcher#command-line-options">CLI Options</a></li>
                        <li><a href="https://github.com/spaquet/mailcatcher#api">API Reference</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2010-2026 Samuel Cochran. Enhanced fork by StÃ©phane Paquet. MIT License.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
