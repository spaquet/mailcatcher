<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NN95GJ8G');</script>
<!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://spaquet.github.io/mailcatcher/remote-access.html">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <meta name="description" content="Configure ngrok or Cloudflare Tunnel to access MailCatcher NG from outside your computer.">
    <meta name="keywords" content="remote access, ngrok, cloudflare tunnel, external access, email testing">
    <meta name="og:title" content="Remote Access - MailCatcher NG">
    <meta name="og:description" content="Access MailCatcher NG from outside your computer using ngrok or Cloudflare Tunnel.">
    <title>Remote Access - MailCatcher NG</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5YSM2R9KRH"></script>
    <script src="analytics.js"></script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NN95GJ8G"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#0d9488;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#0f766e;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path d="M 20 30 L 50 55 L 80 30 L 80 75 Q 80 80 75 80 L 25 80 Q 20 80 20 75 Z" fill="url(#logoGradient)" />
                    <path d="M 20 30 L 50 55 L 80 30" stroke="white" stroke-width="2" fill="none" />
                </svg>
                <span class="logo-text">MailCatcher NG</span>
            </a>
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <span class="hamburger"></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html#features" class="nav-link">Features</a></li>
                <li><a href="install.html" class="nav-link">Install</a></li>
                <li><a href="api.html" class="nav-link">APIs</a></li>
                <li><a href="claude.html" class="nav-link">Claude</a></li>
                <li><a href="advanced.html" class="nav-link">Advanced</a></li>
                <li><a href="remote-access.html" class="nav-link active">Remote Access</a></li>
                <li><a href="https://github.com/spaquet/mailcatcher" class="nav-link" target="_blank">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Remote Access</h1>
            <p>Access your MailCatcher instance from anywhere using ngrok or Cloudflare Tunnel</p>
        </div>
    </section>

    <!-- Overview Section -->
    <section class="install-content">
        <div class="container">
            <!-- Introduction -->
            <div class="install-section">
                <h2>Overview</h2>
                <p>By default, MailCatcher NG only accepts connections from your local machine (127.0.0.1). When testing email workflows with remote servers, staging environments, or CI/CD pipelines, you need external access to your MailCatcher instance.</p>
                <p>This guide shows you how to expose MailCatcher safely to the internet using either <strong>ngrok</strong> or <strong>Cloudflare Tunnel</strong>. Both provide secure tunneling, eliminating the need to open ports on your firewall.</p>

                <div style="background-color: var(--color-bg-primary); border-left: 4px solid var(--color-primary); border-radius: 0.5rem; padding: 1.5rem; margin: 2rem 0;">
                    <p style="margin: 0; color: var(--color-text-secondary);">
                        <strong>⚠️ Security Note:</strong> Remote access exposes your email test data over the internet. Always use authentication, run tunnels only when needed, and consider network restrictions.
                    </p>
                </div>
            </div>

            <!-- Comparison -->
            <div class="install-section">
                <h2>Comparison: ngrok vs Cloudflare Tunnel</h2>
                <div style="overflow-x: auto; margin: 1.5rem 0;">
                    <table style="width: 100%; border-collapse: collapse; color: var(--color-text-secondary);">
                        <thead>
                            <tr style="background-color: var(--color-bg-primary); border-bottom: 2px solid var(--color-border);">
                                <th style="padding: 1rem; text-align: left; color: var(--color-text-primary);">Feature</th>
                                <th style="padding: 1rem; text-align: left; color: var(--color-text-primary);">ngrok</th>
                                <th style="padding: 1rem; text-align: left; color: var(--color-text-primary);">Cloudflare Tunnel</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid var(--color-border);">
                                <td style="padding: 1rem;"><strong>Setup Complexity</strong></td>
                                <td style="padding: 1rem;">Easy - single command</td>
                                <td style="padding: 1rem;">Moderate - requires config file</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--color-border);">
                                <td style="padding: 1rem;"><strong>Free Tier</strong></td>
                                <td style="padding: 1rem;">Available with limitations</td>
                                <td style="padding: 1rem;">Unlimited</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--color-border);">
                                <td style="padding: 1rem;"><strong>Custom Domain</strong></td>
                                <td style="padding: 1rem;">Paid feature</td>
                                <td style="padding: 1rem;">Free with your domain</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--color-border);">
                                <td style="padding: 1rem;"><strong>Multiple Services</strong></td>
                                <td style="padding: 1rem;">Separate tunnels</td>
                                <td style="padding: 1rem;">Single tunnel, multiple routes</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--color-border);">
                                <td style="padding: 1rem;"><strong>Speed</strong></td>
                                <td style="padding: 1rem;">Very fast</td>
                                <td style="padding: 1rem;">Excellent (CDN backed)</td>
                            </tr>
                            <tr>
                                <td style="padding: 1rem;"><strong>Best For</strong></td>
                                <td style="padding: 1rem;">Quick one-off access</td>
                                <td style="padding: 1rem;">Long-term production use</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ngrok Section -->
            <div class="install-section">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                    <h2 style="margin: 0; flex: 1;">ngrok</h2>
                    <div style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: var(--color-bg-primary); border-radius: 0.5rem;">
                        <svg viewBox="0 0 100 100" width="40" height="40" xmlns="http://www.w3.org/2000/svg">
                            <rect fill="var(--color-primary)" width="100" height="100" rx="10"/>
                            <text x="50" y="60" text-anchor="middle" font-size="48" font-weight="bold" fill="white" font-family="monospace">n</text>
                        </svg>
                    </div>
                </div>

                <h3>Installation</h3>
                <p>Download ngrok from <a href="https://ngrok.com/download" target="_blank" style="color: var(--color-primary); text-decoration: none;">ngrok.com</a>, extract it, and move it to your PATH.</p>

                <p><strong>macOS (Homebrew):</strong></p>
                <pre><code>brew install ngrok/ngrok/ngrok</code></pre>

                <p><strong>Linux:</strong></p>
                <pre><code>wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
unzip ngrok-stable-linux-amd64.zip
sudo mv ngrok /usr/local/bin/</code></pre>

                <p><strong>Windows:</strong></p>
                <p>Download and run the installer from <a href="https://ngrok.com/download" target="_blank" style="color: var(--color-primary); text-decoration: none;">ngrok.com</a></p>

                <h3>Authentication (Optional but Recommended)</h3>
                <p>Create a free ngrok account at <a href="https://dashboard.ngrok.com" target="_blank" style="color: var(--color-primary); text-decoration: none;">dashboard.ngrok.com</a> and add your authentication token:</p>
                <pre><code>ngrok config add-authtoken YOUR_AUTH_TOKEN</code></pre>

                <h3>Expose MailCatcher Web Interface</h3>
                <p>Tunnel the web interface (default port 1080):</p>
                <pre><code>ngrok http 1080</code></pre>

                <p>ngrok will display your public URL:</p>
                <pre><code style="color: var(--color-text-secondary);">ngrok                                       (Ctrl+C to quit)

Session Status      online
Session Expires     1h59m59s
Version             3.0.0
Region              us (San Francisco, CA, USA)
Latency             45ms
Web Interface       http://127.0.0.1:4040
Forwarding          https://YOUR-URL.ngrok.io -> http://localhost:1080

Connections         ttl     opn     rt1     rt5     p50     p95
                    0       0       0.00    0.00    0.00    0.00</code></pre>

                <p>Visit <code>https://YOUR-URL.ngrok.io</code> to access your MailCatcher inbox from anywhere.</p>

                <h3>Expose SMTP Server</h3>
                <p>To allow remote applications to send mail to your MailCatcher instance (SMTP port 1025):</p>
                <pre><code>ngrok tcp 1025</code></pre>

                <p>Use the forwarded address in your application's mail configuration:</p>
                <pre><code>SMTP Host: YOUR-URL.ngrok.io
SMTP Port: 20123  # or the port shown by ngrok
Protocol: TCP (unencrypted) or TLS if configured</code></pre>

                <h3>Expose Both Web and SMTP</h3>
                <p>Run ngrok in your terminal and configure your app with the forwarded addresses.</p>
                <pre><code># Terminal 1: Web interface
ngrok http 1080 --domain=web.ngrok.io

# Terminal 2: SMTP server
ngrok tcp 1025 --domain=smtp.ngrok.io</code></pre>

                <p><strong>Note:</strong> Custom domains with ngrok require a paid plan.</p>

                <h3>Docker with ngrok</h3>
                <p>Run MailCatcher and ngrok together using Docker Compose:</p>
                <pre><code>version: '3.8'
services:
  mailcatcher:
    image: stpaquet/alpinemailcatcher:latest
    ports:
      - "1080:1080"
      - "1025:1025"
    networks:
      - mailcatcher

  ngrok:
    image: ngrok/ngrok:latest
    command: http mailcatcher:1080
    environment:
      - NGROK_AUTHTOKEN=YOUR_AUTH_TOKEN
    ports:
      - "4040:4040"
    networks:
      - mailcatcher
    depends_on:
      - mailcatcher

networks:
  mailcatcher:</code></pre>

                <p>Access ngrok dashboard at <code>http://localhost:4040</code> to see your public URL.</p>
            </div>

            <!-- Cloudflare Tunnel Section -->
            <div class="install-section">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                    <h2 style="margin: 0; flex: 1;">Cloudflare Tunnel</h2>
                    <div style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: var(--color-bg-primary); border-radius: 0.5rem;">
                        <i class="devicon-cloudflare-plain" style="font-size: 40px; color: var(--color-primary);"></i>
                    </div>
                </div>

                <h3>Prerequisites</h3>
                <ul>
                    <li>A Cloudflare account (free tier works)</li>
                    <li>A domain managed by Cloudflare (or transfer your domain)</li>
                    <li>The <code>cloudflared</code> CLI tool</li>
                </ul>

                <h3>Installation</h3>
                <p><strong>macOS:</strong></p>
                <pre><code>brew install cloudflare/cloudflare/cloudflared</code></pre>

                <p><strong>Linux (Ubuntu/Debian):</strong></p>
                <pre><code>wget -q https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
sudo dpkg -i cloudflared-linux-amd64.deb</code></pre>

                <p><strong>Linux (RHEL/CentOS):</strong></p>
                <pre><code>wget -q https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.rpm
sudo rpm -ivh cloudflared-linux-amd64.rpm</code></pre>

                <p><strong>Windows:</strong></p>
                <pre><code>scoop install cloudflared</code></pre>

                <h3>Authentication</h3>
                <p>Authenticate with Cloudflare:</p>
                <pre><code>cloudflared login</code></pre>

                <p>This opens your browser to authorize the tunnel. You'll be asked to select a domain.</p>

                <h3>Quick Start: Simple HTTP Tunnel</h3>
                <p>Expose MailCatcher on a Cloudflare domain immediately:</p>
                <pre><code>cloudflared tunnel --url http://localhost:1080</code></pre>

                <p>Cloudflare will generate a temporary URL like <code>https://random-string.trycloudflare.com</code></p>

                <h3>Named Tunnel with Custom Domain</h3>
                <p>For persistent, branded access, create a named tunnel:</p>
                <pre><code>cloudflared tunnel create mailcatcher</code></pre>

                <p>Create a config file at <code>~/.cloudflared/config.yml</code>:</p>
                <pre><code>tunnel: mailcatcher
credentials-file: /Users/YOUR_USERNAME/.cloudflared/mailcatcher.json

ingress:
  # Web interface
  - hostname: mail.yourdomain.com
    service: http://localhost:1080

  # SMTP server (direct TCP tunneling)
  - hostname: smtp.yourdomain.com
    service: tcp://localhost:1025

  # Catch-all for any other requests
  - service: http_status:404</code></pre>

                <p>Start the tunnel:</p>
                <pre><code>cloudflared tunnel run mailcatcher</code></pre>

                <h3>DNS Configuration</h3>
                <p>In Cloudflare Dashboard, add CNAME records for your subdomains:</p>
                <ul>
                    <li>Create CNAME: <code>mail</code> → <code>mailcatcher.YOUR_TUNNEL_ID.cfargotunnel.com</code></li>
                    <li>Create CNAME: <code>smtp</code> → <code>mailcatcher.YOUR_TUNNEL_ID.cfargotunnel.com</code></li>
                </ul>

                <p><strong>Note:</strong> Find your tunnel ID with:</p>
                <pre><code>cloudflared tunnel list</code></pre>

                <h3>Docker with Cloudflare Tunnel</h3>
                <p>Using Docker Compose with Cloudflare Tunnel:</p>
                <pre><code>version: '3.8'
services:
  mailcatcher:
    image: stpaquet/alpinemailcatcher:latest
    ports:
      - "127.0.0.1:1080:1080"
      - "127.0.0.1:1025:1025"
    networks:
      - mailcatcher

  cloudflared:
    image: cloudflare/cloudflared:latest
    command: tunnel --config /etc/cloudflared/config.yml run mailcatcher
    volumes:
      - ./cloudflared-config.yml:/etc/cloudflared/config.yml
      - ~/.cloudflared:/root/.cloudflared
    networks:
      - mailcatcher
    depends_on:
      - mailcatcher

networks:
  mailcatcher:</code></pre>

                <p><code>cloudflared-config.yml</code>:</p>
                <pre><code>tunnel: mailcatcher
credentials-file: /root/.cloudflared/mailcatcher.json

ingress:
  - hostname: mail.yourdomain.com
    service: http://mailcatcher:1080
  - hostname: smtp.yourdomain.com
    service: tcp://mailcatcher:1025
  - service: http_status:404</code></pre>

                <h3>Install as System Service (Optional)</h3>
                <p>Run Cloudflare Tunnel in the background on Linux:</p>
                <pre><code>sudo cloudflared service install</code></pre>

                <p>Then manage with:</p>
                <pre><code>sudo systemctl start cloudflared
sudo systemctl enable cloudflared
sudo systemctl status cloudflared</code></pre>
            </div>

            <!-- Configuration Examples -->
            <div class="install-section">
                <h2>Configuration Examples</h2>

                <h3>Rails Application</h3>
                <pre><code># config/environments/staging.rb
config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = {
  address: 'your-tunnel-url.ngrok.io',  # or mail.yourdomain.com
  port: 587,  # or 25
  enable_starttls_auto: false
}</code></pre>

                <h3>Node.js / Express</h3>
                <pre><code>const nodemailer = require('nodemailer');

const transporter = nodemailer.createTransport({
  host: process.env.SMTP_HOST,  // your-tunnel-url.ngrok.io or mail.yourdomain.com
  port: process.env.SMTP_PORT,  // 25 or 587
  secure: false
});

transporter.sendMail({
  from: 'test@example.com',
  to: 'recipient@example.com',
  subject: 'Test',
  text: 'Hello from remote MailCatcher!'
});</code></pre>

                <h3>Python / Django</h3>
                <pre><code"># settings.py
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = os.getenv('SMTP_HOST')  # your-tunnel-url.ngrok.io or mail.yourdomain.com
EMAIL_PORT = int(os.getenv('SMTP_PORT', 25))
EMAIL_USE_TLS = False
EMAIL_HOST_USER = ''
EMAIL_HOST_PASSWORD = ''</code></pre>

                <h3>Docker Container</h3>
                <pre><code">FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .

ENV SMTP_HOST=mailcatcher.docker.internal
ENV SMTP_PORT=1025

CMD ["npm", "start"]</code></pre>

                <p><strong>Note:</strong> Use <code>mailcatcher.docker.internal</code> for services in other containers on the same Docker host. For remote access, use your tunnel URL.</p>
            </div>

            <!-- Best Practices -->
            <div class="install-section">
                <h2>Best Practices & Security</h2>

                <h3>Authentication & IP Restrictions</h3>
                <ul>
                    <li><strong>ngrok:</strong> Use ngrok's basic authentication with <code>--basic-auth username:password</code></li>
                    <li><strong>Cloudflare:</strong> Add Cloudflare Page Rules or Worker rules to restrict access by IP</li>
                </ul>

                <h3>Sensitive Data</h3>
                <ul>
                    <li>Disable tunnels when not needed</li>
                    <li>Rotate authentication tokens regularly</li>
                    <li>Use separate tunnel credentials for different environments</li>
                    <li>Don't commit tunnel credentials to version control</li>
                </ul>

                <h3>Monitoring & Logging</h3>
                <ul>
                    <li><strong>ngrok:</strong> Monitor connections via the dashboard at <code>http://localhost:4040</code></li>
                    <li><strong>Cloudflare:</strong> Check logs in Cloudflare Dashboard → Tunnels → Analytics</li>
                </ul>

                <h3>Performance Tips</h3>
                <ul>
                    <li>ngrok routes through their servers; expect minor latency</li>
                    <li>Cloudflare Tunnel is faster for frequently accessed services</li>
                    <li>For high-volume testing, consider a dedicated staging server</li>
                </ul>

                <h3>Troubleshooting</h3>
                <p><strong>Connection refused?</strong></p>
                <ul>
                    <li>Verify MailCatcher is running: <code>docker ps</code> or <code>ps aux | grep mailcatcher</code></li>
                    <li>Check ports are accessible: <code>lsof -i :1080</code>, <code>lsof -i :1025</code></li>
                </ul>

                <p><strong>ngrok connection timing out?</strong></p>
                <ul>
                    <li>Verify your auth token is set</li>
                    <li>Check network connectivity to ngrok servers</li>
                    <li>Run <code>ngrok diagnose</code> for debugging</li>
                </ul>

                <p><strong>Cloudflare Tunnel not responding?</strong></p>
                <ul>
                    <li>Verify tunnel is running: <code>cloudflared tunnel list</code></li>
                    <li>Check DNS records are properly configured</li>
                    <li>Review tunnel logs: <code>cloudflared tunnel logs mailcatcher</code></li>
                </ul>
            </div>

            <!-- Next Steps -->
            <div class="install-section">
                <h2>Next Steps</h2>
                <ul>
                    <li>Configure your application's mail settings to use your tunnel URL</li>
                    <li>Send a test email from your remote server</li>
                    <li>View it in the MailCatcher web interface</li>
                    <li>Explore <a href="advanced.html" style="color: var(--color-primary); text-decoration: none;">advanced features</a> like SSL/TLS encryption</li>
                </ul>
            </div>
        </div>
    </section>

    <script src="footer.js"></script>
    <script src="script.js"></script>
</body>
</html>
